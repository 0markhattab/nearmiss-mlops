trigger:
  branches: { include: ["main"] }

pool:
  vmImage: ubuntu-latest

steps:
- task: UsePythonVersion@0
  inputs: { versionSpec: '3.10' }

- script: |
    python -m pip install --upgrade pip
    pip install -r requirements.txt
    pip install pytest flake8
  displayName: Install dependencies

- script: |
    flake8 src tests
    pytest -q
  displayName: Lint & Test

# (Optional) add Azure ML job submit using az ml once service connection is configured.
